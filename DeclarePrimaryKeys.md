There are certain entities that don't need to have an id. For example lets say we need to map products that have prices.
A `Product` has a set of `Price`. Each price is for a specific currency (i.e. GBP, USD or EUR) and contains a unit price
and a sale price for the product on that currency.

The tables :

```
create table Product (
	id serial not null,
	title varchar(100) not null,
	primary key(id)
)
;
create table Price (
	currency varchar(3) not null,
	unitprice decimal(6,3),
	saleprice decimal(6,3),
	product_id int not null,
	primary key (product_id,currency),
	foreign key (product_id) references Product(id)
)
```

The price table has a product\_id which is a foreign key to product table. Each price is for a product on a certain
currency and there is no need for this table to have an id (or for the relevant Price entity to have an id).

Here are the domain classes and mappings:

```
case class Product(val title: String, val prices: Set[Price])
case class Price(val currency: String, val unitPrice: Double, val salePrice: Double)

object ProductEntity extends Entity[Int,NaturalIntId, Product] {
	val id = key("id") autogenerated (_.id)

	val title = column("title") to (_.title)
	val prices = onetomany(PriceEntity) to (_.prices)

	def constructor(implicit m) = new Product(title, prices) with Stored {
		val id: Int = ProductEntity.id
	}
}
object PriceEntity extends Entity[(String,Product with NaturalIntId),With2Ids[String,Product with NaturalIntId],Price] {
	val currency = column("currency") to (_.currency)
	val unitPrice = column("unitprice") to (_.unitPrice)
	val salePrice = column("saleprice") to (_.salePrice)

	declarePrimaryKey(currency)
	declarePrimaryKey(ProductEntity.prices)

	def constructor(implicit m) = new Price(currency, unitPrice, salePrice) with Stored
}
```

Please note that the PriceEntity doesn't declare an id. But mapperdao needs to know how to i.e. delete rows from Price table.
Hence, we declare the equivalent columns that act as a primary key : product\_id and currency.

Further examples:

[Full src code for the above examples](https://code.google.com/p/mapperdao/source/browse/src/test/scala/com/googlecode/mapperdao/DeclarePrimaryKeysSuite.scala)

[example 1](https://code.google.com/p/mapperdao/source/browse/src/test/scala/com/googlecode/mapperdao/DeclarePrimaryKeysWithManyToOneSuite.scala)

[example 2](https://code.google.com/p/mapperdao/source/browse/src/test/scala/com/googlecode/mapperdao/DeclarePrimaryKeysWithOneToManySuite.scala)

